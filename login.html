<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ShapeShiftAI</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      href="https://fonts.googleapis.com/css?family=Work+Sans:100,200,300,400,500,600,700,800,900"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css" />
    <link rel="stylesheet" href="css/animate.css" />

    <link rel="stylesheet" href="css/owl.carousel.min.css" />
    <link rel="stylesheet" href="css/owl.theme.default.min.css" />
    <link rel="stylesheet" href="css/magnific-popup.css" />

    <link rel="stylesheet" href="css/aos.css" />

    <link rel="stylesheet" href="css/ionicons.min.css" />

    <link rel="stylesheet" href="css/bootstrap-datepicker.css" />
    <link rel="stylesheet" href="css/jquery.timepicker.css" />

    <link rel="stylesheet" href="css/flaticon.css" />
    <link rel="stylesheet" href="css/icomoon.css" />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light"
      id="ftco-navbar"
    >
      <div class="container">
        <a class="navbar-brand" href="index.html">ShapeShiftAI</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#ftco-nav"
          aria-controls="ftco-nav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="oi oi-menu"></span> Menu
        </button>
        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a href="index.html" class="nav-link">Home</a>
            </li>
            <li class="nav-item">
              <a href="guide.html" class="nav-link">Guide</a>
            </li>
            <li class="nav-item">
              <a href="schedule.html" class="nav-link">Schedule</a>
            </li>
            <li class="nav-item">
              <a href="about.html" class="nav-link">About</a>
            </li>
            <li class="nav-item">
              <a href="contact.html" class="nav-link">Contact</a>
            </li>
            <li class="nav-item">
              <a href="services.html" class="nav-link">Services</a>
            </li>
            <li class="nav-item">
              <a href="report.html" class="nav-link">Report</a>
            </li>
            <li class="nav-item">
              <a href="login.html" class="nav-link">Login</a>
            </li>
            <li class="nav-item">
              <a href="register.html" class="nav-link">Register</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- END nav -->
    


    </div>
    <section class="ftco-section contact-section">
      <div class="container">
        <div id="alertContainer" class="alert-container my-3"></div>
        <div class="row block-9">
          <div class="col-md-4 contact-info ftco-animate bg-light p-4">
            <div class="row">
              <div class="col-md-12 mb-4">
                <h2 class="h1">Register here</h2>
              </div>

              <div class="col-md-12 mb-3">
                <h3>Welcome to Our Wellness Haven</h3>
                <h5>
                  Dive into a realm where health meets innovation, and
                  well-being takes center stage.
                </h5>
              </div>
            </div>
          </div>
          <div class="col-md-1"></div>
          <div class="col-md-6 ftco-animate">
            <form  class="contact-form">
            <!-- <form action="/auth/register" method="Post" class="contact-form"> -->
              <div class="row">         
                <div class="col-md-6">
                  <div class="form-group">
                    <input
                    id="username"
                      type="text"
                      class="form-control"
                      placeholder="Username"
                    />
                  </div>
                </div>  
                <div class="col-md-6">
                  <div class="form-group">
                    <input
                    id="password"
                      type="text"
                      class="form-control"
                      placeholder="Your Password"
                    />
                  </div>
                </div>
              </div>
              
              <div class="form-group">
                <input
                onclick="handleOnSubmit()"

                  value="Submit"
                  class="btn btn-primary py-3 px-5"
                />
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <footer class="ftco-footer ftco-section img">
      <div class="overlay"></div>
      <div class="container">
        <div class="row mb-5">
          <div class="col-lg-3 col-md-6 mb-5 mb-md-5 ftco-animate">
            <div class="ftco-footer-widget mb-4">
              <h1 class="logo">ShapeShiftAI</h1>
            </div>
          </div>
          <div class="col-lg col-md-6 mb-5 mb-md-5 ftco-animate"></div>
          <div class="col-lg-3 col-md-6 mb-5 mb-md-5">
            <div class="ftco-footer-widget mb-4">
              <ul
                class="ftco-footer-social list-unstyled float-md-left float-lft"
              >
                <li class="ftco-animate">
                  <a href="#"><span class="icon-twitter"></span></a>
                </li>
                <li class="ftco-animate">
                  <a href="#"><span class="icon-facebook"></span></a>
                </li>
                <li class="ftco-animate">
                  <a href="#"><span class="icon-instagram"></span></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">
            <p>
              Copyright &copy;
              <script>
                document.write(new Date().getFullYear());
              </script>
              All rights reserved | 
              <i class="icon-heart" aria-hidden="true"></i> by Dhananjay
            </p>
          </div>
        </div>
      </div>
    </footer>

    <!-- loader -->
    <div id="ftco-loader" class="show fullscreen">
      <svg class="circular" width="48px" height="48px">
        <circle
          class="path-bg"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke="#eeeeee"
        />
        <circle
          class="path"
          cx="24"
          cy="24"
          r="22"
          fill="none"
          stroke-width="4"
          stroke-miterlimit="10"
          stroke="#F96D00"
        />
      </svg>
    </div>

    <script src="js/jquery.min.js"></script>
    <script src="js/jquery-migrate-3.0.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/jquery.waypoints.min.js"></script>
    <script src="js/jquery.stellar.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/jquery.magnific-popup.min.js"></script>
    <script src="js/aos.js"></script>
    <script src="js/jquery.animateNumber.min.js"></script>
    <script src="js/bootstrap-datepicker.js"></script>
    <script src="js/jquery.timepicker.min.js"></script>
    <script src="js/scrollax.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
    <script src="js/google-map.js"></script>
    <script src="js/main.js"></script>

    <script>
      function displayAlert(message, alertType) {
        // Create the alert element
        const alertElement = document.createElement('div');
        alertElement.className = `alert alert-${alertType} alert-dismissible fade show my-5 m-6 `;
        alertElement.innerHTML = `
            <button type="button" class="close" data-dismiss="alert">&times;</button>
            ${message}
        `;
    
        // Append the alert to the alert container
        const alertContainer = document.getElementById('alertContainer');
        alertContainer.innerHTML = ''; // Clear previous alerts
        alertContainer.appendChild(alertElement);
    
        // Auto-dismiss the alert after a few seconds (optional)
        setTimeout(() => {
            alertElement.classList.add('fade');
        }, 5000); // Adjust the duration as needed
    }
      

    function setCookie(key, value, expirationDays) {
        const date = new Date();
        date.setTime(date.getTime() + (expirationDays * 24 * 60 * 60 * 1000));
        const expires = "expires=" + date.toUTCString();
        document.cookie = key + "=" + value + "; " + expires + "; path=/";
    }
    function handleOnSubmit(){
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
  

      const postData = {
          username:username,
          password:password
      };
  
    
      fetch('http://127.0.0.1:8000/auth/login', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(postData)
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        document.getElementById('username').value="";
        document.getElementById('password').value="";
        displayAlert("Login Success! You are logged in to the system.",'success')
          
        
        
        //alert("Login Successfull")

        return response.json();
    })
    .then(data => {
        setCookie("username", data.user.username, 7);
        setCookie("user_id", data.user._id, 7);
        setCookie("session_id", data.token  , 7);
        setTimeout(()=>{

          window.location.href="index.html";
        },2000)
    })
    .catch(error => {
        console.error('Error:', error);
        displayAlert("Error! Please try again.", 'danger')
    });
    }
    
    
    </script>
  </body>
</html>
